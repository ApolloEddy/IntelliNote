---
name: quality-guardian
description: 在任何代码修改、文件写入、功能实现完成后必须强制使用！用于执行闭环审计、更新 CHANGELOG.md 并确保逻辑一致性、追踪关键变量流向。
---

# 质量守卫者 (QA 闭环)

## 核心流程
1. **回顾计划 (Recall Plan)**: 重新加载在“深度规划”阶段制定的功能模块列表和每一步代码实现方案。
2. **逐项对齐 (Atomic Check)**: 
   - 检查每一个功能模块是否已在代码中体现。
   - 检查每一个细节逻辑（如异常捕获、日志记录、边界条件）是否按计划执行。
3. **闭合审计 (Consistency Audit)**:
   - **链路追踪 (Traceability)**: 追踪关键变量从 UI/输入 -> 内存对象 -> 程序状态 -> 持久化层的完整路径。
   - **一致性校验**: 确保运行时各节点的参数值严格同步，无“脏状态”或“视图过期”。
4. **变更日志自动维护 (Automated Changelog)**:
   - **放弃进度记录**: 不再使用模糊的项目进度记忆。
   - **更新 CHANGELOG.md**: 每次修改完成后，自动更新项目内的 CHANGELOG.md。
   - **语言规范**: 必须使用**中文**进行描述。
   - **内容维度**: 详细记录 Added (新增), Changed (变更), Fixed (修复) 以及对系统架构的影响。
5. **闭环判定 (Closure Decision)**:
   - **不通过**: 明确指出缺失、不一致或 Changelog 未更新点。
   - **通过**: 确认所有计划项、一致性要求及中文 Changelog 均已达成。

## 强制动作
- 每当执行完 write_file 或 replace 且自认为完成任务时，必须主动触发此 Skill。
- 只有当“审查结果 = 100% 覆盖且中文 Changelog 已更新”时，才可宣告任务完成。
